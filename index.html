<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Workout</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <meta name="theme-color" content="#000000">
</head>
<body>
  <div id="header">
    <h1 id="workout-date">Loading todays workout...</h1>
    <div id="clock">Loading time...</div>
  </div>

  <div id="workout-container">
    <div id="content"></div>
  </div>

  <script src="script.js"></script>
<script>
  function updateClock() {
    const options = {
      timeZone: 'America/New_York',
      hour: 'numeric',
      minute: '2-digit',
      hour12: true
    };

    const now = new Date();
    const timeStr = now.toLocaleTimeString('en-US', options); // e.g., 3:45 PM

    document.getElementById('clock').textContent = timeStr;
  }

  updateClock();
  setInterval(updateClock, 30000); // Update every 30 seconds (plenty for minutes)

  // Auto-reload at midnight Eastern Time
  const nowET = new Date().toLocaleString("en-US", {timeZone: "America/New_York"});
  const today = new Date(nowET);
  const midnightET = new Date(today);
  midnightET.setHours(24, 0, 0, 0);
  setTimeout(() => location.reload(), midnightET - today);

  // Service worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
  }
</script>
</body>
</html>
